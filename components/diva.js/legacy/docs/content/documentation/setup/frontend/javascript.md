In this section, you will find instructions on instantiating a viewer and
configuring it via Javascript.

[TOC]

Where to place it
-----------------

The Javascript can either go into a separate .js file (e.g. `diva-setup.js`),
or it can be placed directly in the document head or body. The former is
recommended for performance reasons (as it can be more easily cached that way)
but the latter may be easier in certain cases, such as when the settings need
to be dynamically generated by the script that generates the page.

Other than that, there is no significant difference between the two methods.
For simplicity, this section will assume that the Javascript is contained in a
separate .js file.

The instantiation code
----------------------

When creating a viewer, you will need to specify (at minimum) three settings: the
URL to the diva data server, the URL to the IIPImage instance (including the
path to the image directory) and the name of the directory containing the
images (relative to the root defined in the diva data server script).

For example, if the desired container element for the viewer has an ID of
`diva-wrapper`, the viewer could be instantiated as follows:

```javascript
$(document).ready(function () {
    $('#diva-wrapper').diva({
        iipServerURL: "http://test.com/path/to/iipsrv.fcgi?FIF=/path/to/imgs",
        divaserveURL: "/path/to/divaserve.php",
        imageDir: "some-directory-name"
    });
});
```

If you're not familiar with jQuery, here's what the above does:

* The first line ensures that the code below is only executed when the document
  has finished loading;
* The `$` is an alias to the jQuery object;
* `$('#diva-wrapper')` selects the element with ID `diva-wrapper`;
* and the `diva` method on the selected `diva-wrapper` element initialises a
  Diva object with the settings object that is passed as a parameter.

That's enough to create the viewer and have it display the document images
specified by the divaserve script.

Of course, you can pass in other settings through this method as well - see the
[setting reference](../../code/javascript/settings) for more information on
this.

Accessing the Diva object
-------------------------

The Diva object is stored within the container element (the one with ID
`diva-wrapper` in the above case) and can be accessed via the `data` method
provided by jQuery:

```javascript
var diva = $('#diva-wrapper').data('diva');
```

The variable `diva` now holds the Diva object, which can be manipulated or
queried via its public functions. See the
[public function reference](../../code/javascript/functions#public-functions)
for more.
